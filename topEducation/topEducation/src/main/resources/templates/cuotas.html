<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Cuotas</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="../statics/css/style.css">

</head>
<header>
  <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #ffffff; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
    <a class="navbar-brand" href="/" style="font-size: 2 em; font-weight: bold; color: #88209B; margin-left: 10px;">TopEducation Finanzas</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="true" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-item nav-link active" href="/" style="color: #88209B;">Home <span class="sr-only">(current)</span></a>
        <a class="nav-item nav-link" href="/cuotas" style="color: #88209B;">Cuotas</a>
        <a class="nav-item nav-link" href="/arancel" style="color: #88209B;">Aranceles</a>
        <a class="nav-item nav-link" href="/estudiantes" style="color: #88209B;">Estudiantes</a>
        <a class="nav-item nav-link" href="/examenes" style="color: #88209B;">Examenes</a>
        <a class="nav-item nav-link" href="/pagar" style="color: #88209B;">Pagar aquí</a>
      </div>
    </div>
  </nav>
</header>

<br>
<body>

  <div class="container">
    <div class=" row">
      <h1>Lista de todas las cuotas</h1>
     <h2>Antes de realizar cualquier operación, primero debe actualizar los datos.</h2>
      <br>
    </div>
    <form th:action="@{/procesar-vencidas}" method="post">
      <button type="submit" class="btn btn-primary" style="background-color: #88209B; color: #ffffff; border: none;">
        Actualizar Cuotas Vencidas
      </button>
    </form>
<br>
    <h1 style="color: #88209B;">Actualizar Planilla</h1>
    <form th:action="@{/actualizar-planilla}" method="post">
      <button type="submit" class="btn btn-primary" style="background-color: #88209B; color: #ffffff; border: none;">
        Actualizar Planilla
      </button>
    </form>
    <br>
    <form th:action="@{/buscar-cuotas}" method="get">
      <div class="input-group mb-3" style="background-color: #ffffff; border: 1px solid #88209B;">
        <input type="text" class="form-control" name="rut_estudiante" placeholder="¿Desea buscar cuotas de un estudiante?" aria-label="Búsqueda" aria-describedby="basic-addon2" style="color: #88209B; border: none; background-color: transparent;">
        <div class="input-group-append">
          <button class="btn btn-primary" type="submit" style="background-color: #88209B; color: #ffffff; border: none;">Buscar</button>
        </div>
      </div>
    </form>
    <table class="table table-striped table-bordered" style="background-color: #ffffff; border: 1px solid #88209B; color: #88209B;">
      <thead style="background-color: #88209B; color: #ffffff;">
      <tr>
        <th scope="col">Rut</th>
        <th scope="col">Valor de la cuota</th>
        <th scope="col">Estado de cuota</th>
        <th scope="col">Fecha de pago</th>
        <th scope="col">Intereses aplicados</th>
        <th scope="col">Cuotas pagadas</th>
        <th scope="col">Descuento por exámenes</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="cuotas: ${cuotas}">
        <td th:text="${cuotas.rut_estudiante.rut_estudiante}" style="color: #88209B;">rut</td>
        <td th:text="${cuotas.valor_de_cuota}" style="color: #88209B;">valor</td>
        <td th:text="${cuotas.estadoCuota}" style="color: #88209B;">estado</td>
        <td th:text="${cuotas.fechaPago}" style="color: #88209B;">fecha</td>
        <td th:text="${cuotas.interes_aplicado}" style="color: #88209B;">interes</td>
        <td th:text="${cuotas.cuotas_pagadas}" style="color: #88209B;">pagadas</td>
        <td th:text="${cuotas.dcto_media_examenes}" style="color: #88209B;">descuento</td>
      </tr>
      </tbody>
    </table>



  </div>
</body>

</html>